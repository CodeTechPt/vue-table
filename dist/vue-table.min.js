var VueTable=function(e,t,a,s,n,r,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var i="default"in s?s.default:s;function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a,s,n,r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(s,n)}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t,a,s,n,r,o,i,l,c){"boolean"!=typeof o&&(l=i,i=o,o=!1);const u="function"==typeof a?a.options:a;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),s&&(u._scopeId=s),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=d):t&&(d=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,i(e))}),d)if(u.functional){const e=u.render;u.render=function(t,a){return d.call(a),e(t,a)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return a}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var h=m({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.column.sortable?a("a",{attrs:{role:"button",href:"#"},on:{click:function(t){return t.preventDefault(),e.setOrder(t)}}},[e._v("\n    "+e._s(e.column.title)+"\n\n    "),a("i",{staticClass:"fas fa-fw",class:e.sortIcon})]):a("span",[e._v("\n    "+e._s(e.column.title)+"\n")])},staticRenderFns:[]},void 0,{name:"VueTableHeading",props:{column:{type:Object,required:!0,validator:function(e){return Object.prototype.hasOwnProperty.call(e,"name")&&Object.prototype.hasOwnProperty.call(e,"title")&&Object.prototype.hasOwnProperty.call(e,"sortable")}}},computed:c({sortIcon:function(){switch(this.sorting[this.column.name]){case"asc":return"fa-sort-up";case"desc":return"fa-sort-down";default:return"fa-sort"}},sort:function(){switch(this.sorting[this.column.name]){case"asc":return"desc";case"desc":return null;default:return"asc"}}},s.mapState("sortingModule",["sorting"])),methods:c({setOrder:function(){var e={columnName:this.column.name,columnSort:this.sort};this.setColumnSort(e),this.$emit("vueTableSortChanged",e)}},s.mapActions("sortingModule",{setColumnSort:"setColumnSortAction"}))},void 0,!1,void 0,!1,void 0,void 0,void 0),p=m({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group"},[this._m(0),this._v(" "),t("input",{staticClass:"form-control",attrs:{type:"text",placeholder:this.lang.search_for},domProps:{value:this.value},on:{input:this.handleSearch}})])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("div",{staticClass:"input-group-text"},[t("i",{staticClass:"fas fa-search"})])])}]},void 0,{name:"VueTableSearchBar",data:function(){return{lang:this.$parent.lang}},methods:c(c(c({},s.mapActions("searchModule",{setValue:"setValueAction"})),s.mapActions("paginationModule",{setPage:"setPageAction"})),{},{handleSearch:n((function(e){this.setValue(e.target.value),this.setPage(1),this.$emit("searchPerformed")}),400)}),computed:c({},s.mapState("searchModule",["value"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),f=m({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"row align-items-center mt-5"},[a("div",{staticClass:"col-auto"},[a("select",{staticClass:"custom-select",domProps:{value:e.itemsPerPage},on:{change:e.handleItemsPerPageChanged}},e._l(e.perPageOptions,(function(t){return a("option",{key:"perPageOptions"+t,domProps:{value:t}},[e._v(e._s(t)+"\n            ")])})),0)]),e._v(" "),a("div",{staticClass:"col"},[e._v("\n        Showing "+e._s(e.start)+" - "+e._s(e.end)+" of "+e._s(e.items)+"\n    ")]),e._v(" "),a("div",{staticClass:"col-sm-auto mt-4 mt-sm-0"},[e.totalPages>1?a("ul",{staticClass:"pagination mb-0"},[1!=e.page?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function(t){return t.preventDefault(),e.handlePageSelect(1)}}},[a("i",{staticClass:"fas fa-backward"}),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("First")])])]),e._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(t){return t.preventDefault(),e.handlePageSelect(e.page-1)}}},[a("i",{staticClass:"fas fa-caret-left"}),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Previous")])])])]:e._e(),e._v(" "),e._l(e.linkButtons,(function(t,s){return a("li",{key:s,staticClass:"page-item",class:{active:t==e.page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.handlePageSelect(t)}}},[e._v(e._s(t))])])})),e._v(" "),e.page!=e.totalPages?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(t){return t.preventDefault(),e.handlePageSelect(e.page+1)}}},[a("i",{staticClass:"fas fa-caret-right"}),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Next")])])]),e._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function(t){return t.preventDefault(),e.handlePageSelect(e.totalPages)}}},[a("i",{staticClass:"fas fa-forward"}),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Last")])])])]:e._e()],2):e._e()])])},staticRenderFns:[]},void 0,{name:"VueTablePagination",props:{perPageOptions:{type:Array,default:function(){return[20,50,100]}},items:{type:Number,default:0,validator:function(e){return e>=0}},maxLinks:{type:Number,default:5,validator:function(e){return e>0}}},methods:c(c({handleItemsPerPageChanged:function(e){this.setPage(1),this.setItemsPerPage(e.target.value),this.$emit("itemsPerPageSelected",e.target.value)},handlePageSelect:function(e){this.setPage(e),this.$emit("pageSelected")}},s.mapActions("paginationModule",{setPage:"setPageAction"})),s.mapActions("itemsPerPageModule",{setItemsPerPage:"setItemsPerPageAction"})),computed:c(c({start:function(){return(this.page-1)*this.itemsPerPage+1},end:function(){var e=this.start+this.itemsPerPage-1;return this.items<e?this.items:e},totalPages:function(){return Math.ceil(this.items/this.itemsPerPage)},linkButtons:function(){for(var e=this.linksSpan,t=[],a=e.lower;a<=e.higher;a++)t.push(a);return t},linksSpan:function(){var e=Math.floor(this.maxLinks/2),t=this.page-e,a=t<0?Math.abs(t)+1:0,s=this.page+e,n=s>this.totalPages?s-this.totalPages:0;return t+=a,s-=n,t-=n,s+=a,{lower:t+=t<1?1+Math.abs(t):0,higher:s-=s>this.totalPages?s-this.totalPages:0}}},s.mapState("paginationModule",["page"])),s.mapState("itemsPerPageModule",["itemsPerPage"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),g={namespaced:!0,state:{itemsPerPage:20},mutations:{setItemsPerPage:function(e,t){e.itemsPerPage=parseInt(t)}},actions:{setItemsPerPageAction:function(e,t){(0,e.commit)("setItemsPerPage",t)}}},v={namespaced:!0,state:{sorting:{}},mutations:{setSorting:function(e,t){e.sorting=t},setColumnSort:function(e,t){var a=t.columnName,s=t.columnSort;e.sorting=c(c({},e.sorting),{},d({},a,s))}},actions:{setSortingAction:function(e,t){(0,e.commit)("setSorting",t)},setColumnSortAction:function(e,t){(0,e.commit)("setColumnSort",{columnName:t.columnName,columnSort:t.columnSort})}}};r.use(i);var b={store:new i.Store({modules:{paginationModule:{namespaced:!0,state:{page:1},mutations:{setPage:function(e,t){e.page=t}},actions:{setPageAction:function(e,t){(0,e.commit)("setPage",t)}}},itemsPerPageModule:g,searchModule:{namespaced:!0,state:{value:""},mutations:{setValue:function(e,t){e.value=t}},actions:{setValueAction:function(e,t){(0,e.commit)("setValue",t)}}},sortingModule:v}}),name:"VueTable",mixins:[{data:function(){return{selection:null}},props:{saveState:{type:Boolean,default:!1},localStorageName:{type:String,default:function(){return"".concat(this.$options.name,"_").concat(this._uid,"_").concat(window.location.pathname)}}},methods:{getStoredValues:function(){return JSON.parse(localStorage.getItem(this.localStorageName))},storeState:function(e){this.saveState&&localStorage.setItem(this.localStorageName,JSON.stringify(e))}}},{data:function(){return{filters:{}}},props:{perPage:{type:Number,default:20,validator:function(e){return e>0}}},methods:c({storeFilters:function(){var e={};for(var t in this.columnsPayload)this.columnsPayload[t].value&&(e[t]=this.columnsPayload[t].value);this.storeState({filters:e,page:this.page,perPage:this.itemsPerPage,search:this.search,sorting:this.currentSorting})},loadStoredFilters:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getStoredValues()||{},t.setColumnsPayload(a.filters,a.sorting),t.setPage(a.page||1),t.setItemsPerPage(a.perPage||t.perPage),t.setSearchValue(a.search||null),a.sorting&&t.setSorting(a.sorting);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,n){var r=e.apply(t,a);function o(e){u(r,s,n,o,i,"next",e)}function i(e){u(r,s,n,o,i,"throw",e)}o(void 0)}))})()},resetFilters:function(){this.setColumnsPayload(),this.setSorting(this.currentSorting),this.setPage(1),this.setItemsPerPage(this.itemsPerPage),this.setSearchValue(null),this.getItems()},setColumnsPayload:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.columns.forEach((function(s){if(s.name){var n={modifiers:s.modifiers||[],searchable:s.searchable||!1,sort:a[s.name]||s.sort||null,value:t[s.name]||s.value||""};e.$set(e.columnsPayload,s.name,n)}}))}},s.mapActions("sortingModule",{setSorting:"setSortingAction"})),computed:c({currentSorting:function(){var e={};for(var t in this.columnsPayload)this.columnsPayload[t].sort&&(e[t]=this.columnsPayload[t].sort);return e}},s.mapState("sortingModule",["sorting"])),beforeMount:function(){var e=this;this.loadStoredFilters().then((function(){null!==e.uri&&e.getItems()}))}}],components:{VueTableHeading:h,VueDraggable:o,VueTablePagination:f,VueTableSearchBar:p},data:function(){return{items:[],selectedItems:[],lang:{no_records:"No records found!",search_for:"Search for..."},totalItems:0,columnsPayload:{}}},props:{tableClass:{type:String,default:"table table-striped"},rowClass:{type:[String,Function],default:""},columns:{type:Array,default:function(){return[]}},dataKey:{type:String,default:"data"},locale:{type:String,default:"en"},metaKey:{type:String,default:null},orderable:{type:Boolean,default:!1},checkable:{type:Object,default:function(){return{display:!1,attribute:null}},validator:function(e){return Object.prototype.hasOwnProperty.call(e,"display")&&Object.prototype.hasOwnProperty.call(e,"attribute")}},paginate:{type:Boolean,default:!0},uri:{type:String,default:null}},methods:c(c(c({getItems:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t,r=a,o={params:{columns:this.columnsPayload,page:this.page,perPage:this.itemsPerPage,search:this.search,extraParams:s},paramsSerializer:function(e){return r.stringify(e)}};return this.storeFilters(),n.get(this.uri,o).then((function(t){Object.prototype.hasOwnProperty.call(t.data,e.dataKey)&&(e.items=t.data[e.dataKey]),e.totalItems=(null!=e.metaKey?t.data[e.metaKey].total:t.data.total)||e.items.length,e.$emit("update:items",e.items)}))},refreshResults:function(){this.setPage(1),this.getItems()},getSearchableColumns:function(){return this.columns.filter((function(e){return e.searchable}))},hydrateColumns:function(){this.columns.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"name")||(e.name=null),Object.prototype.hasOwnProperty.call(e,"title")||(e.title=""),Object.prototype.hasOwnProperty.call(e,"sortable")&&"boolean"==typeof e.sortable||(e.sortable=!0),Object.prototype.hasOwnProperty.call(e,"visible")||(e.visible=!0)}))},toggleVueTableCheckables:function(e){var t=this;e.target.checked?this.selectedItems=this.items.map((function(e){return e[t.checkable.attribute]})):this.selectedItems=[]},setRowClass:function(e,t){return"function"==typeof this.rowClass?this.rowClass(e,t):this.rowClass},setColumnSorting:function(e){var t=e.columnName,a=e.columnSort;this.columnsPayload[t].sort=a,this.getItems()}},s.mapActions("paginationModule",{setPage:"setPageAction"})),s.mapActions("searchModule",{setSearchValue:"setValueAction"})),s.mapActions("itemsPerPageModule",{setItemsPerPage:"setItemsPerPageAction"})),computed:c(c(c({isSearchable:function(){return this.getSearchableColumns().length>0},visibleColumns:function(){return this.columns.filter((function(e){return e.visible}))}},s.mapState("searchModule",{search:"value"})),s.mapState("paginationModule",["page"])),s.mapState("itemsPerPageModule",["itemsPerPage"])),created:function(){this.hydrateColumns()}};const P="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function y(e){return(e,t)=>function(e,t){const a=P?t.media||"default":e,s=C[a]||(C[a]={ids:new Set,styles:[]});if(!s.ids.has(e)){s.ids.add(e);let a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),s.element||(s.element=document.createElement("style"),s.element.type="text/css",t.media&&s.element.setAttribute("media",t.media),void 0===_&&(_=document.head||document.getElementsByTagName("head")[0]),_.appendChild(s.element)),"styleSheet"in s.element)s.styles.push(a),s.element.styleSheet.cssText=s.styles.filter(Boolean).join("\n");else{const e=s.ids.size-1,t=document.createTextNode(a),n=s.element.childNodes;n[e]&&s.element.removeChild(n[e]),n.length?s.element.insertBefore(t,n[e]):s.element.appendChild(t)}}}(e,t)}let _;const C={};var S=m({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[e._t("filters",null,{columns:e.columnsPayload,refreshResults:e.refreshResults}),e._v(" "),a("div",{staticClass:"col"},[e.isSearchable?a("vue-table-search-bar",{on:{searchPerformed:e.getItems}}):e._e()],1),e._v(" "),a("div",{staticClass:"col-auto"},[e._t("reset-button",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.resetFilters}},[a("i",{staticClass:"fas fa-eraser"})])],{resetFilters:e.resetFilters})],2)],2)])]),e._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[e._t("header",null,{table:this}),e._v(" "),0===e.items.length?a("div",{staticClass:"alert alert-info"},[e._v("\n                "+e._s(e.lang.no_records)+"\n            ")]):a("div",[a("div",{staticClass:"table-responsive"},[a("table",{class:e.tableClass},[a("thead",[a("tr",[e.orderable?a("th",{staticClass:"fit-content"}):e._e(),e._v(" "),e.checkable.display?a("th",{staticClass:"fit-content"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"vueTableCheckableAll"+e._uid},on:{change:e.toggleVueTableCheckables}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"vueTableCheckableAll"+e._uid}})])]):e._e(),e._v(" "),e._l(e.visibleColumns,(function(t){return a("th",{key:t.name,class:t.headerClasses},[a("vue-table-heading",{attrs:{column:t},on:{vueTableSortChanged:e.setColumnSorting}})],1)}))],2)]),e._v(" "),a("vue-draggable",{attrs:{tag:"tbody",handle:".v-table-drag-handle",disabled:!e.orderable},on:{change:function(t){return e.$emit("vueTableItemsReordered",t.moved.element,t.moved.newIndex)}},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(t,s){return a("tr",{key:s,class:e.setRowClass(t,s)},[e.orderable?a("td",{staticClass:"fit-content align-middle"},[a("button",{staticClass:"btn btn-sm v-table-drag-handle",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-arrows-alt-v"})])]):e._e(),e._v(" "),e.checkable.display?a("td",{staticClass:"fit-content align-middle"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"vueTableCheckable"+e._uid+"_"+t[e.checkable.attribute]},domProps:{value:t[e.checkable.attribute],checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,t[e.checkable.attribute])>-1:e.selectedItems},on:{change:function(a){var s=e.selectedItems,n=a.target,r=!!n.checked;if(Array.isArray(s)){var o=t[e.checkable.attribute],i=e._i(s,o);n.checked?i<0&&(e.selectedItems=s.concat([o])):i>-1&&(e.selectedItems=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedItems=r}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"vueTableCheckable"+e._uid+"_"+t[e.checkable.attribute]}})])]):e._e(),e._v(" "),e._l(e.visibleColumns,(function(s,n){return a("td",{key:n,class:s.rowClasses},[s.render&&"function"==typeof s.render?[a("div",{domProps:{innerHTML:e._s(s.render(t))}})]:s.slotName?[e._t(s.slotName,null,{item:t})]:s.name?[e._v("\n                                        "+e._s(s.name.split(".").reduce((function(e,t){return e[t]}),t))+"\n                                    ")]:e._e()],2)}))],2)})),0)],1)]),e._v(" "),e.paginate?a("vue-table-pagination",{attrs:{items:e.totalItems},on:{itemsPerPageSelected:e.getItems,pageSelected:e.getItems}}):e._e()],1)],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-2e00ee22_0",{source:".fit-content[data-v-2e00ee22]{width:1%;white-space:nowrap}",map:void 0,media:void 0})}),b,"data-v-2e00ee22",!1,void 0,!1,y,void 0,void 0),w=function(e){w.installed||(w.installed=!0,e.component("VueTable",S))},O={install:w},k=null;return"undefined"!=typeof window?k=window.Vue:"undefined"!=typeof global&&(k=global.Vue),k&&k.use(O),S.install=w,e.VueTable=S,e}({},axios,qs,vuex,lodash.debounce,Vue,VueDraggable);